# ============================================
# Dify 环境变量配置
# 心音智鉴 AI 健康助手平台
# ============================================
#
# 使用方法:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 修改下方配置为实际值
# 3. 启动服务: docker-compose up -d

# ============================================
# 应用密钥 (必须修改)
# ============================================
# 用于加密敏感数据，请使用随机字符串
# 生成方法: openssl rand -base64 32
SECRET_KEY=sk-heartsound-dify-secret-key-change-me-in-production

# ============================================
# 数据库配置
# ============================================
DB_USERNAME=postgres
DB_PASSWORD=heartsound_db_pass_2026
DB_HOST=db
DB_PORT=5432
DB_DATABASE=dify

# ============================================
# Redis 配置
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# URL 配置 (根据实际部署修改)
# ============================================
# 本地开发
CONSOLE_WEB_URL=http://localhost
CONSOLE_API_URL=http://localhost
SERVICE_API_URL=http://localhost
APP_WEB_URL=http://localhost

# 生产环境示例 (使用域名)
# CONSOLE_WEB_URL=https://dify.yourdomain.com
# CONSOLE_API_URL=https://dify.yourdomain.com
# SERVICE_API_URL=https://dify.yourdomain.com
# APP_WEB_URL=https://dify.yourdomain.com

# ============================================
# Nginx 端口配置
# ============================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ============================================
# 向量数据库配置 (Weaviate)
# ============================================
WEAVIATE_ENDPOINT=http://weaviate:8080
WEAVIATE_API_KEY=

# ============================================
# Celery 配置
# ============================================
CELERY_BROKER_URL=redis://redis:6379/1

# ============================================
# 错误监控 (可选)
# ============================================
SENTRY_DSN=

# ============================================
# LLM Provider 配置说明
# ============================================
# LLM Provider 需要在 Dify Web 控制台中配置:
# 设置 -> 模型供应商 -> 添加模型
#
# 推荐配置 DeepSeek-V3:
#   - 提供商: OpenAI-API-compatible
#   - API Base URL: https://api.deepseek.com/v1
#   - API Key: 从 https://platform.deepseek.com 获取
#   - Model: deepseek-chat
#
# 备选 通义千问:
#   - 提供商: 通义千问
#   - API Key: 从阿里云百炼平台获取
