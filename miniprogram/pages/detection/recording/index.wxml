<!-- Detection Recording Page Template -->
<view class="recording-page">
  <!-- Background pulse effect -->
  <view class="pulse-bg">
    <view class="pulse-circle c1"></view>
    <view class="pulse-circle c2"></view>
    <view class="pulse-circle c3"></view>
  </view>

  <!-- Header -->
  <view class="header">
    <view class="close-btn" bindtap="stopRecording">
      <text class="close-icon">âœ•</text>
    </view>
  </view>

  <!-- Countdown display -->
  <view class="countdown-section">
    <view class="countdown-ring">
      <view class="countdown-progress" style="--progress: {{progress}}%;"></view>
      <view class="countdown-inner">
        <text class="countdown-number">{{countdown}}</text>
        <text class="countdown-unit">ç§’</text>
      </view>
    </view>
    <text class="status-text">{{statusText}}</text>
  </view>

  <!-- Waveform display -->
  <view class="waveform-section">
    <waveform
      height="200"
      lineColor="#1890FF"
      lineWidth="3"
      showDemo="{{!isRecording}}"
      bindready="onWaveformReady"
    ></waveform>
  </view>

  <!-- Heart rate display (if available) -->
  <view class="heart-rate-section" wx:if="{{heartRate !== '--'}}">
    <view class="heart-rate-card">
      <text class="heart-emoji">â¤ï¸</text>
      <text class="heart-rate-value">{{heartRate}}</text>
      <text class="heart-rate-unit">BPM</text>
    </view>
  </view>

  <!-- Progress bar -->
  <view class="progress-section">
    <view class="progress-bar">
      <view class="progress-fill" style="width: {{progress}}%;"></view>
    </view>
    <view class="progress-labels">
      <text class="progress-start">0ç§’</text>
      <text class="progress-end">{{totalDuration}}ç§’</text>
    </view>
  </view>

  <!-- Tips -->
  <view class="tips-section">
    <view class="tip-item">
      <text class="tip-icon">ğŸ¤«</text>
      <text class="tip-text">è¯·ä¿æŒå®‰é™</text>
    </view>
    <view class="tip-item">
      <text class="tip-icon">ğŸ§˜</text>
      <text class="tip-text">æ”¾æ¾å‘¼å¸</text>
    </view>
    <view class="tip-item">
      <text class="tip-icon">ğŸ“</text>
      <text class="tip-text">ä¿æŒä½ç½®</text>
    </view>
  </view>
</view>
